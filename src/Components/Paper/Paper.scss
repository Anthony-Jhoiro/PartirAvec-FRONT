// font
@import url("https://fonts.googleapis.com/css?family=Indie+Flower");

//Variables
$backgroundColor: lightgoldenrodyellow;
$paperColor: #fff2cf;
$fontColor: #000;
$paperWidth: 25em;
$paperHeight: 30.5em;


$notebookWidth: 55em;
$notebookHeight: 31.5em;
$notebookCoverBackground: rgb(99, 26, 26);

$font: "Indie Flower";
$lineHeight: 1.5em;
$topBorder: 2em;
$textMaxHeight: 9 * $lineHeight;

body {
  margin: 0;
  padding: 0;
  background: lightgoldenrodyellow;
}

.paper {
  position: absolute;
  height: $paperHeight;
  width: $paperWidth;
  background: $paperColor;
  box-shadow: 0 0 5px 0 #888;

  &::before {
    content: "";
    position: absolute;
    left: 45px;
    height: 100%;
    width: 2px;
    background: rgba(255, 0, 0, 0.4);
  }
  .lines {
    margin-top: $topBorder;
    height: calc(100% - #{$topBorder});
    width: 100%;
    background-image: repeating-linear-gradient(
                    $paperColor 0px,
                    $paperColor calc(#{$lineHeight} - 1px),
                    steelblue $lineHeight
    );
    .content {
      color: $fontColor;
      position: absolute;
      top: calc(#{$topBorder} + 3em);
      left: 55px;
      bottom: 10px;
      right: 10px;
      max-height: $paperHeight;
      line-height: $lineHeight;
      font-family: $font;
      overflow: hidden;

      .text {
        font-family: $font;
        max-height: $textMaxHeight;
        background: none;
        border: none;
        width: 100%;
        height: 100%;
        resize: none;
        overflow-x: hidden;
        overflow-y: scroll; // show scrollbar Y
        outline: none;

        &::-webkit-scrollbar {
          width: 6px;

          height: 8px;
          background: none; /* or add it to the track */
        }
        /* Add a thumb */
        &::-webkit-scrollbar-thumb {
          background: rgba(38, 38, 38, 0.5);
          border-radius: 3px;
        }
      }

      .location {
        margin-top: $lineHeight;
      }

      .carousel {
        margin-top: $lineHeight;
        display: flex;
        line-height: 6em;

        max-height: 6em;
        overflow: hidden;
        justify-content: space-evenly;
        .carousel-icon {
          font-size: 4em;
          cursor: pointer;
        }
        .image-container,
        .image-container img {
          max-width: 8em;
          max-height: 6em;
          width: 8em;
          height: 6em;
          object-fit: contain;
          background-color: transparent;

          &.carousel-image {
            display: none;
          }
          &.active {
            display: block;
          }
        }
      }
    }

    .title {
      font-family: $font;
      position: absolute;
      background: none;
      border: none;
      outline: none;
      font-size: 2.2em;
      top: 25px;
      left: 50%;
      transform: translateX(-50%);
      width: $paperWidth;
      max-width: $paperWidth;
      text-align: center;
      margin: 0;
    }
  }

  .holes {
    position: absolute;
    left: 10px;
    height: 25px;
    width: 25px;
    background: $backgroundColor;
    border-radius: 50%;
    box-shadow: inset 0 0 2px 0 #888;

    &.hole-top {
      top: 10%;
    }
    &.hole-middle {
      top: 50%;
    }
    &.hole-bottom {
      bottom: 10%;
    }
  }
}

@for $i from 1 through 4 {
  .pile .paper:nth-child(#{$i}) {
    transform: translate(-50%, -50%) rotate(-#{($i - 1) * 2}deg);
    z-index: 10 - $i;
    left: 50%;
    top: 50%;

    * {
      z-index: 10 - $i;
    }
  }
}

.notebook {
  position: absolute;
  height: $notebookHeight;
  width: $notebookWidth;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  .paper {
    z-index: 10;
    right: 0.5em;
    top: 0.5em;
    .holes {
      background-color: $notebookCoverBackground;
    }
  }
  .left-section {
    @for $i from 1 through 4 {
      .left-page:nth-child(#{$i}) {
        transform: rotate(-#{$i - 1}deg);
        z-index: 10 - $i;
        left: 0.5em;
      }
    }
  }
  .right-section {
    @for $i from 1 through 4 {
      .left-page:nth-child(#{$i}) {
        transform: rotate(#{$i - 1}deg);
        right: 0.5em;
        z-index: 10 - $i;
      }
    }
  }
  .left-page {
    top: 0.5em;
    position: absolute;
    height: $paperHeight;
    width: $paperWidth;
    background: $paperColor;
    box-shadow: 0 0 5px 0 #888;

    &::before {
      content: "";
      position: absolute;
      right: 45px;
      height: 100%;
      width: 2px;
      background: rgba(255, 0, 0, 0.4);
    }
    .holes {
      position: absolute;
      right: 10px;
      height: 25px;
      width: 25px;
      background: $notebookCoverBackground;
      border-radius: 50%;
      box-shadow: inset 0 0 2px 0 #888;

      &.hole-top {
        top: 10%;
      }
      &.hole-middle {
        top: 50%;
      }
      &.hole-bottom {
        bottom: 10%;
      }
    }
    .lines {
      margin-top: $topBorder;
      height: calc(100% - #{$topBorder});
      width: 100%;
      background-image: repeating-linear-gradient(
                      $paperColor 0px,
                      $paperColor calc(#{$lineHeight} - 1px),
                      steelblue $lineHeight
      );
    }
  }

  .cover {
    height: $notebookHeight;
    width: $paperWidth + 1em;
    background-color: $notebookCoverBackground;
    border-radius: 5px;
  }

  .cover:nth-child(2) {
    position: absolute;
    right: 0;
    top: 0;
  }
}
